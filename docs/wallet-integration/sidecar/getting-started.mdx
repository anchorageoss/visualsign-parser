---
title: Sidecar Deployment
description: Run the gRPC parser service without TEE infrastructure
---

{/*
PLACEHOLDER - This page is not yet in navigation.
TODO: Add Docker/K8s deployment examples.
*/}

Run VisualSign as a standalone gRPC service without AWS Nitro Enclave infrastructure. This provides the same parsing functionality and API without attestation.

## When to use sidecar deployment

Sidecar deployment is appropriate for:

- Development and testing environments
- Internal services on trusted networks
- Environments where TEE isn't available or required
- Prototyping before moving to TEE

## Security considerations

<Warning>
Without TEE, there's no cryptographic proof of parsing integrity. Only use this deployment model when you trust the network and host.
</Warning>

The sidecar model assumes:
- The host running the parser is trusted
- Network communication is secured (TLS, VPC, etc.)
- You don't need to prove parsing integrity to external parties

## Running with Docker

```bash
# Pull the parser image
docker pull ghcr.io/anchorageoss/visualsign-parser:latest

# Run the parser
docker run -p 44020:44020 ghcr.io/anchorageoss/visualsign-parser:latest
```

## Running locally (development)

```bash
# Clone the repository
git clone https://github.com/anchorageoss/visualsign-parser
cd visualsign-parser/src

# Run the parser
make parser_host
```

The parser will be available at `localhost:44020`.

## Kubernetes deployment

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: visualsign-parser
spec:
  replicas: 2
  selector:
    matchLabels:
      app: visualsign-parser
  template:
    metadata:
      labels:
        app: visualsign-parser
    spec:
      containers:
      - name: parser
        image: ghcr.io/anchorageoss/visualsign-parser:latest
        ports:
        - containerPort: 44020
        resources:
          requests:
            memory: "256Mi"
            cpu: "100m"
          limits:
            memory: "512Mi"
            cpu: "500m"
---
apiVersion: v1
kind: Service
metadata:
  name: visualsign-parser
spec:
  selector:
    app: visualsign-parser
  ports:
  - port: 44020
    targetPort: 44020
```

## Using the gRPC API

The API is identical to TEE deployments, minus attestation:

```go
import (
    pb "your-project/parser"
    "google.golang.org/grpc"
)

conn, err := grpc.Dial("localhost:44020", grpc.WithInsecure())
client := pb.NewParserServiceClient(conn)

resp, err := client.Parse(context.Background(), &pb.ParseRequest{
    UnsignedPayload: "0xf86c80850...",
    Chain: pb.Chain_CHAIN_ETHEREUM,
})

// Note: Skip attestation verification in sidecar mode
// The response still includes a signature, but it's not attestation-backed
visualSignJSON := resp.ParsedTransaction.Payload.SignablePayload
```

## Migrating to TEE

The sidecar deployment uses the same gRPC API as TEE deployments. To migrate:

1. Deploy TEE infrastructure (self-hosted or use Turnkey)
2. Update your client to point to the TEE endpoint
3. Add attestation verification to your client

No changes to request/response handling are required.

## Health checks

```bash
# gRPC health check
grpcurl -plaintext localhost:44020 grpc.health.v1.Health/Check

# Or with curl if HTTP health endpoint is enabled
curl http://localhost:44021/health
```

## Next steps

- [gRPC API Reference](../../api-reference) — Full API documentation
- [Self-Hosted TEE](../self-hosted-tee/getting-started) — Upgrade to TEE when ready
- [Chain Metadata](../core-concepts/chain-metadata) — Providing ABIs and IDLs
